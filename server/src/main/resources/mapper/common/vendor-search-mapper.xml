<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
공급사 검색 모달 Mapper 구현체

작성자 : 함동의
작성일 : 2025.07.30
수정이력 :
- 2025.07.30 : 최초 작성
-->
<mapper namespace="com.olivin.app.common.mapper.VendorSearchMapper">
    <!-- 공급사 전체 조회 -->
    <select id="selectAllVendors" resultType="VendorSearchVO">
        SELECT comp_id as "vendorId"
             , comp_name as "vendorName"
             , phone
        FROM   companys
        WHERE  comp_type = '100003'
        ORDER BY comp_id
    </select>

    <!-- 조건에 맞는 공급사 조회 -->
    <select id="selectVendorList" parameterType="String" resultType="VendorSearchVO">
        SELECT comp_id as "vendorId"
             , comp_name as "vendorName"
             , phone
        FROM   companys
        WHERE  comp_type = '100003'
        <if test="searchValue != null and searchValue != ''">
          AND comp_name LIKE '%' || #{searchValue} || '%'
        </if>
        ORDER BY comp_id
    </select>
</mapper>